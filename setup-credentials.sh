#!/bin/bash

# Firebase Admin Credentials Setup Helper
# This script helps you set up your Firebase Admin credentials correctly

echo "üî• Firebase Admin Setup Helper"
echo "================================"
echo ""
echo "To fix the 401 authentication errors, you need to set up real Firebase Admin credentials."
echo ""
echo "Steps to get your Firebase credentials:"
echo "1. Go to https://console.firebase.google.com/"
echo "2. Select your project: madaba-women-market-ac54c"
echo "3. Go to Project Settings > Service Accounts"
echo "4. Click 'Generate New Private Key'"
echo "5. Download the JSON file"
echo ""
echo "Then update your .env.local file with these values from the downloaded JSON:"
echo ""
echo "FIREBASE_PROJECT_ID=\"your-project-id\""
echo "FIREBASE_CLIENT_EMAIL=\"your-service-account-email@project.iam.gserviceaccount.com\""
echo "FIREBASE_PRIVATE_KEY=\"-----BEGIN PRIVATE KEY-----\\nYOUR_ACTUAL_PRIVATE_KEY\\n-----END PRIVATE KEY-----\\n\""
echo ""
echo "üé® Cloudinary Setup:"
echo "==================="
echo "1. Go to https://cloudinary.com/console"
echo "2. Copy your Cloud Name, API Key, and API Secret"
echo "3. Update these in .env.local:"
echo ""
echo "NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME=\"your-cloud-name\""
echo "CLOUDINARY_API_KEY=\"your-api-key\"" 
echo "CLOUDINARY_API_SECRET=\"your-actual-api-secret\""
echo ""
echo "üîß Recent Improvements:"
echo "======================"
echo "- Firebase Admin SDK now uses singleton pattern for better initialization"
echo "- Enhanced error handling and debugging capabilities"
echo "- Improved authentication flow with better error messages"
echo "- API routes updated with safe Firebase Admin getter functions"
echo ""
echo "‚ö†Ô∏è  Current Issues:"
echo "- Firebase private key appears to be placeholder data"
echo "- Cloudinary API secret is set to 'madaba-women-market-presets' (should be a long alphanumeric string)"
echo ""
echo "After updating the credentials, restart your development server:"
echo "npm run dev"
