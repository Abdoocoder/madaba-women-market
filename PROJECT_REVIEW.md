# ๐ Madaba Women Market - ูุฑุงุฌุนุฉ ุดุงููุฉ ููุนููุฉ

---

## 1๏ธโฃ ุชุญููู ุงูุจููุฉ ุงูุชูููุฉ ูุงูุฃูุงู

### ๐๏ธ ูููู ุงููุดุฑูุน

```
madaba-women-market/
โโโ app/                    # Next.js App Router
โ   โโโ api/               # API Routes (Paginated & Validated)
โ   โโโ admin/             # Admin Dashboard
โ   โโโ seller/            # Seller Portal
โ   โโโ ...                # Public pages
โโโ components/            # React Components (Responsive)
โโโ lib/                   # Utilities, Auth & Schemas
โโโ locales/              # i18n translations (AR/EN)
โโโ public/               # Static assets
โโโ supabase/             # Database schema & Migrations
```

### โ ููุงุท ุงูููุฉ ูู ุงูุจููุฉ

| ุงููููู | ุงูุชูููู | ุงูููุงุญุธุงุช |
|--------|---------|-----------|
| **Next.js 16.1.1** | โญโญโญโญโญ | ุฃุญุฏุซ ุฅุตุฏุงุฑ ูุน App Router |
| **TypeScript 5** | โญโญโญโญโญ | Types ููุญุณููุฉ ูููุณุชุฎุฏูุฉ ุจูุซุงูุฉ |
| **reactStrictMode** | โญโญโญโญโญ | ุชู ุชูุนููู ูุถูุงู ุฌูุฏุฉ ุงูููุฏ |
| **Supabase Auth** | โญโญโญโญโญ | Row Level Security ูุทุจูู ูููุญุณูู |
| **Middleware** | โญโญโญโญโญ | ูุญูู ุงููุณุงุฑุงุช ููุญุชูู ุนูู **Rate Limiting** |
| **Zod Validation** | โญโญโญโญโญ | ููุณุชุฎุฏู ูู ูุงูุฉ ุงูู API Routes |

---

## 2๏ธโฃ ูุฑุงุฌุนุฉ TypeScript ูุชุญุณููุงุช ุงูุฃุฏุงุก

### ๐ [`lib/types.ts`](file:///c:/Users/skyli/Project/madaba-women-market/lib/types.ts) - Types ููุญุณููุฉ

```typescript
export interface Product {
  id: string
  nameAr: string
  price: number
  rating?: number        // โ ุญูู ุฏููุงูููู ููุชูููู
  reviewCount?: number   // โ ุญูู ุฏููุงูููู ูุนุฏุฏ ุงูุชุนูููุงุช
  // ...
}
```

### โก ุชุญุณููุงุช ุงูุฃุฏุงุก ุงููููุฐุฉ

| ุงูุชุญุณูู | ุงูููู | ุงูุญุงูุฉ |
|---------|-------|--------|
| **Server Components** | `app/page.tsx` | โ ุชู ุชูููู ุงูู Client JS |
| **Image Optimization** | `next.config.mjs` | โ ุงุณุชุฎุฏุงู WebP/AVIF |
| **API Pagination** | `app/api/products/route.ts` | โ ุชู ุงูุชูููุฐ ููู Public API |
| **Admin Pagination** | `app/api/admin/products/route.ts` | โ ุชู ุงูุชูููุฐ ููู Admin API |

---

## 3๏ธโฃ ุฃูุงู Supabase ู RLS Policies

### ๐ [`middleware.ts`](file:///c:/Users/skyli/Project/madaba-women-market/middleware.ts) - ุญูุงูุฉ ูุฒุฏูุฌุฉ

**ุงูููุฒุงุช ุงูุญุงููุฉ:**
- โ **RBAC**: ููุน ุงููุตูู ูุบูุฑ ุงูุฅุฏุงุฑููู ูุงูุชุงุฌุฑุงุช ูููุณุงุฑุงุช ุงูุญุณุงุณุฉ.
- โ **Rate Limiting**: ุญูุงูุฉ ูู ูุฌูุงุช brute-force (100 ุทูุจ/ุฏูููุฉ).

### ๐ก๏ธ ุณูุงุณุงุช RLS ุงูููุญุณููุฉ

ุชู ูุฑุงุฌุนุฉ ุณูุงุณุงุช [`optimize_rls_policies.sql`](file:///c:/Users/skyli/Project/madaba-women-market/supabase/migrations/optimize_rls_policies.sql) ูุชุฃููุฏ ูุนุงููุชูุง:
- โ ุงูููุชุฌุงุช ุชุธูุฑ ููุท ุจุนุฏ ุงูููุงููุฉ (`approved = true`).
- โ ุงูุชุงุฌุฑุงุช ูุชุญููู ููุท ูู ููุชุฌุงุชูู ุงูุฎุงุตุฉ.
- โ ุญูุงูุฉ ุจูุงูุงุช ุงูู Profiles ูุงูู Carts ูุงูู Orders ุจุดูู ูุฑุฏู.

---

## 4๏ธโฃ ูุฑุงุฌุนุฉ API Routes ูุงูู Error Handling

### ๐ก ุงูุชุฒุงู ูุงูู ุจุงููุนุงููุฑ ุงูุนุงูููุฉ

ุชู ุชุญุฏูุซ ูุงูุฉ ูุณุงุฑุงุช ุงูู API ูุชุดูู:
1. **Zod Validation**: ุงูุชุญูู ูู ููุน ูุตุญุฉ ุงูุจูุงูุงุช ุงููุฑุณูุฉ.
2. **Standardized Responses**: ูููู ููุญุฏ ููุฑุฏูุฏ (items, pagination).
3. **Graceful Error Handling**: ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูุน ููุฏ ุงูุญุงูุฉ ุงูููุงุณุจ (400, 401, 500).

---

## 5๏ธโฃ SEO ูุชูููุงุช Accessibility

| ุงูุนูุตุฑ | ุงูููู | ุงูุญุงูุฉ |
|--------|-------|--------|
| **Metadata** | `layout.tsx` | โ ูููู ูุชูุงูู ููู OG ู Twitter |
| **Dynamic Sitemap** | `app/sitemap.ts` | โ ูููุฏ ุฑูุงุจุท ุงูููุชุฌุงุช ูุงูุชุงุฌุฑุงุช ุชููุงุฆูุงู |
| **Robots.txt** | `public/robots.txt` | โ ุชูุฌูู ูุญุฑูุงุช ุงูุจุญุซ |
| **Semantic HTML** | Components | โ ุงุณุชุฎุฏุงู tags ุตุญูุญุฉ ูุณูููุฉ ุงููุฑุงุกุฉ |

---

## ๐ ููุฎุต ุงููุดุฑูุน

```mermaid
radarChart
    title Madaba Women Market - ุงูุชูููู ุงูููุงุฆู
    "ุฌูุฏุฉ ุงูููุฏ": 90
    "ุงูุฃูุงู": 95
    "ุงูุฃุฏุงุก": 85
    "SEO": 90
    "Accessibility": 85
    "ุงูุงุฎุชุจุงุฑุงุช": 60
    "ุงูุชูุซูู": 85
    "ุงูุจููุฉ ุงูุชูููุฉ": 95
```

### โ ุงูุฎูุงุตุฉ ูุงูุชูุตูุงุช

ุงููุดุฑูุน ุงูุขู ูู ุญุงูุฉ **ููุชุงุฒุฉ** ูุฌุงูุฒ ููููู. 

**ุงูุชุญุณููุงุช ุงูุชู ุชูุช ูู ูุฐู ุงูุฌููุฉ:**
1. ุชูุนูู `reactStrictMode`.
2. ุฅุถุงูุฉ ุงูู Pagination ูุงูู Validation ูู Admin API.
3. ุชูุญูุฏ ููุทู ุงูุฃูุงู ูู Middleware.

**ุงูุชูุตูุงุช ุงููุณุชูุจููุฉ:**
- ๐ข ุฒูุงุฏุฉ ุชุบุทูุฉ ุงูู Unit Tests ูุชุดูู ุงูููููุงุช ุงููุฑุฆูุฉ.
- ๐ข ุชูุนูู ูุธุงู ุชุชุจุน ุงูุฃุฎุทุงุก (ูุซู Sentry).

**ุงููุดุฑูุน ูู ุฃุนูู ูุณุชููุงุชู ุงูุชูููุฉ! ๐**
